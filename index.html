<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cfgfile: cfgfile</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cfgfile<span id="projectnumber">&#160;0.2.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">cfgfile </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>cfgfile - is a header-only library for reading/saving configuration files. The main approach of cfgfile that you define root tag of configuration with all neseccary child nested tags. Once you define hierarchy of tags that describes the schema of your configuration you can read and save configuration files from/to any supported stream. cfgfile supports std::istream, std::wistream and QTextStream for reading. Tag in the schema is a class derived from cfgfile::tag_t&lt; Trait &gt; or any ready to use derived classes. To simplify a life you can use generator to generate C++ classed of data and tags with DSL.</p>
<p>Let's say you have data structure representing configuration of your application.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>data_t {</div>
<div class="line">  std::string m_value;</div>
<div class="line">};</div>
</div><!-- fragment --><p>And you want to save this structure in the following format.</p>
<div class="fragment"><div class="line">{data</div>
<div class="line">    {value &lt;string&gt;}</div>
<div class="line">}</div>
</div><!-- fragment --><p>Then you can define tag for cfgfile to read and save such configuration file.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Trait &gt;</div>
<div class="line"><span class="keyword">class </span>tag_data_t</div>
<div class="line">  :  <span class="keyword">public</span> <a class="code hl_class" href="classcfgfile_1_1tag__no__value__t.html">cfgfile::tag_no_value_t</a>&lt; Trait &gt;</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  tag_data_t()</div>
<div class="line">    :  <a class="code hl_namespace" href="namespacecfgfile.html">cfgfile</a>::tag_no_value_t&lt; Trait &gt; ( <span class="stringliteral">&quot;data&quot;</span>, true )</div>
<div class="line">    ,  m_value( *this, <span class="stringliteral">&quot;value&quot;</span>, true )</div>
<div class="line">  {}</div>
<div class="line"> </div>
<div class="line">  tag_data_t( <span class="keyword">const</span> data_t &amp; cfg )</div>
<div class="line">    :  <a class="code hl_namespace" href="namespacecfgfile.html">cfgfile</a>::tag_no_value_t&lt; Trait &gt; ( <span class="stringliteral">&quot;data&quot;</span>, true )</div>
<div class="line">    ,  m_value( *this, <span class="stringliteral">&quot;value&quot;</span>, true )</div>
<div class="line">  {</div>
<div class="line">    m_value.set_value( cfg.m_value );</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="classcfgfile_1_1tag__t.html#a2a0496bb1cff31c335e91c5faf3cedcb">set_defined</a>();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  data_t cfg()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">  </span>{</div>
<div class="line">    data_t d;</div>
<div class="line">    d.m_value = m_value.value();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> d;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <a class="code hl_class" href="classcfgfile_1_1exception__t.html">cfgfile::tag_scalar_t&lt; std::string, Trait &gt;</a> m_value;</div>
<div class="line">};</div>
<div class="ttc" id="aclasscfgfile_1_1exception__t_html"><div class="ttname"><a href="classcfgfile_1_1exception__t.html">cfgfile::exception_t</a></div><div class="ttdoc">Exception in the library.</div><div class="ttdef"><b>Definition</b> exceptions.hpp:51</div></div>
<div class="ttc" id="aclasscfgfile_1_1tag__no__value__t_html"><div class="ttname"><a href="classcfgfile_1_1tag__no__value__t.html">cfgfile::tag_no_value_t</a></div><div class="ttdoc">Tag without a value.</div><div class="ttdef"><b>Definition</b> tag_no_value.hpp:57</div></div>
<div class="ttc" id="aclasscfgfile_1_1tag__t_html_a2a0496bb1cff31c335e91c5faf3cedcb"><div class="ttname"><a href="classcfgfile_1_1tag__t.html#a2a0496bb1cff31c335e91c5faf3cedcb">cfgfile::tag_t::set_defined</a></div><div class="ttdeci">void set_defined(bool on=true)</div><div class="ttdoc">Set &quot;defined&quot; property.</div><div class="ttdef"><b>Definition</b> tag.hpp:164</div></div>
<div class="ttc" id="anamespacecfgfile_html"><div class="ttname"><a href="namespacecfgfile.html">cfgfile</a></div><div class="ttdef"><b>Definition</b> const.hpp:38</div></div>
</div><!-- fragment --><p>Once you defined data structure and tag you can read and write configuration.</p>
<div class="fragment"><div class="line">data_t cfg;</div>
<div class="line">cfg.m_value = <span class="stringliteral">&quot;value&quot;</span>;</div>
<div class="line"> </div>
<div class="line">std::ofstream stream( <span class="stringliteral">&quot;conf.cfg&quot;</span> );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">  tag_data_t&lt; cfgfile::string_trait_t &gt; tag( cfg );</div>
<div class="line"> </div>
<div class="line">  cfgfile::write_cfgfile( tag, stream );</div>
<div class="line"> </div>
<div class="line">  stream.close();</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcfgfile_1_1exception__t.html">cfgfile::exception_t&lt; cfgfile::string_trait_t &gt;</a> &amp; x )</div>
<div class="line">{</div>
<div class="line">  stream.close();</div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt; x.<a class="code hl_function" href="classcfgfile_1_1exception__t.html#a556ea5e5307f01f1aa16cbcee7df6425">desc</a>() &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscfgfile_1_1exception__t_html_a556ea5e5307f01f1aa16cbcee7df6425"><div class="ttname"><a href="classcfgfile_1_1exception__t.html#a556ea5e5307f01f1aa16cbcee7df6425">cfgfile::exception_t::desc</a></div><div class="ttdeci">const Trait::string_t &amp; desc() const noexcept</div><div class="ttdef"><b>Definition</b> exceptions.hpp:65</div></div>
</div><!-- fragment --><p>And</p>
<div class="fragment"><div class="line">data_t cfg;</div>
<div class="line"> </div>
<div class="line">std::ifstream stream( <span class="stringliteral">&quot;conf.cfg&quot;</span> );</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">  tag_data_t&lt; cfgfile::string_trait_t &gt; tag;</div>
<div class="line"> </div>
<div class="line">  cfgfile::read_cfgfile( tag, stream, <span class="stringliteral">&quot;conf.cfg&quot;</span> );</div>
<div class="line"> </div>
<div class="line">  stream.close();</div>
<div class="line"> </div>
<div class="line">  cfg = tag.cfg();</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcfgfile_1_1exception__t.html">cfgfile::exception_t&lt; cfgfile::string_trait_t &gt;</a> &amp; x )</div>
<div class="line">{</div>
<div class="line">  stream.close();</div>
<div class="line"> </div>
<div class="line">  std::cout &lt;&lt; x.<a class="code hl_function" href="classcfgfile_1_1exception__t.html#a556ea5e5307f01f1aa16cbcee7df6425">desc</a>() &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="qa"></a>
Q/A</h1>
<p>How can I add cfgfile to my project?</p>
<ul>
<li>The simplest way is just copy cfgfile directory with headers to any location in your project. With CMake you can clone entire cfgfile project somewhere in your project and just do <code>add_subdirectory()</code>, if you will do so you have to add include directory path to your project with <code>include_directories</code>( <code>${cfgfile_INCLUDE_DIRECTORIES}</code> <code></code>).</li>
</ul>
<p>Is it possible to disable STL strings/streams and use Qt only.</p>
<ul>
<li>Yes. You can define <code>CFGFILE_DISABLE_STL</code> and <code>CFGFILE_QT_SUPPORT</code> together. Additionally to <code>CFGFILE_QT_SUPPORT</code> you can define <code>CFGFILE_XML_SUPPORT</code> to enable XML format support. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
